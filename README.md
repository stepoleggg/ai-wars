# ai-wars
## Запуск
В папках game-client и game-server
>npm i

>npm start

## Старт игры
1. Выбрать игру (Tanks)
2. Ввести адрес вебсокет-сервера обоих игроков (можно один и тот же)
3. Выбарть количество игр
4. Начать игру

Во время игры можно регулировать задержку кадра для ускорения или 
замедления времени

## Что должен содержать ИИ вебсокет-сервер?
Каждый ход игрока игровой сервер будет отправлять json объект на сервер ИИ вида:

{
  environment: {
    tank: ...,
    enemy: ...,
    enemyBullets: [...]
  },
  actionId: 0,
  actionsNumber: 5,
  playerId: 0
}

Где 

1. actionId - номер текущего хода в игре (от 0 до 1000, т.к. сейчас игра на 1000ом ходу закончит партию с ничьей)
2. actionsNumber - сколько всего действий в игре можно делать (5)
3. playerId - номер текущего игрока (0 или 1)

И будет ожидать ответ формата: 

{
  actionId: 0,
  actions: [...]
}

actionId в запросе и ответе должны быть равны

## Tanks
### Что содержится в environment?
1. tank - объект, которым управляет данный игрок
  2. tank.x, tank.y - координаты от 75 до 425 (из-за того, что толщина стен 50, размеры танка 50х50, размеры поля 500х500)
  3. tank.health - здоровье танка от 0 до 100. Когда оно равно 0, танк умирает, побеждает противник.
  4. tank.power - заряд танка от 0 до 100. Каждый ход восстанавливается на 5, пока не наберется 100.
  5. tank.axis - ось направления танка, true или false. true - он направлен вдоль Y (вертикально), false - вдоль X (горизонтально) 
  6. tank.direction - направление по оси, true или false. true - в положительную сторону оси (от 0), false - в отрицательную (к 0)
7. enemy - объет вражеского танка, содержит те же поля, что и объект tank
8. enemyBullets - массив вражеских пуль, содержащий объекты со следующими полями: (x, y, axis, direction) как у танка.


### Константы в игре
* Размер танка = 50 х 50
* Скорость танка = 5
* Скорость пули = 10
* Размер пули = 10 х 10
* Цвет танка первого игрока (playerId = 0) - синий
* Цвет танка второго игрока (playerId = 0) - красный

каждую партию положения танков с вероятностью 50% меняются местами
они ставятся на 2 точки: (75, 250) и (425, 250), направленные к центру карты

### Правила игры
* У танка есть 100 жизней
* Вражеская пуля вычитает 20 жизней
* Танки могут врезаться в стены и друг друга
* Условия выстрела описаны ранее (tank.power)

### Какие действия можно делать?
Действия, которые выполнит танк ИИ должен отправить в поле actions. Оно должно содержать массив чисел с номерами действий:
* 0 - Ехать вправо
* 1 - Ехать влево
* 2 - Ехать вниз
* 3 - Ехать вверх
* 4 - Стрелять (выстрел в ту сторону, в которую направлен танк)

За один ход можно сделать только одно перемещение (действие 0 или 1 или 2 или 3) и один выстрел
То есть вот все возможные комбинации ходов:
* [] - ничего не делать
* [0] - вправо
* [1] - влево
* [2] - вниз
* [3] - вверх
* [4] - стрелять
* [0, 4] - вправо и стрелять
* [1, 4] - влево и стрелять
* [2, 4] - вниз и стрелять
* [3, 4] - вверх и стрелять

*По всем вопросам в лс*
**Пример ИИ сервера: https://github.com/stepoleggg/ai-wars-player**
